\documentclass[12pt, a4paper, openany, twoside]{book}
\usepackage[left=1in,right=1in,bottom=1in,top=1in]{geometry}
\usepackage[most]{tcolorbox}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{lastpage}
\usepackage{fancyhdr}
\usepackage{amsfonts}
\usepackage{amsmath, amssymb}
\usepackage{graphicx}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage{epstopdf}
\usepackage{xcolor}
\usepackage{amsthm}
\usepackage{float}
\usepackage{pgfplots}
\usepackage{listings}
\usepackage{longtable}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{enumitem}
\usepackage{array}
\usepackage{tikz-cd}
\usepackage{extpfeil}
\usepackage{etoolbox}
\usepackage{bm}
\usepackage[pdfpagelabels,hyperindex,colorlinks=true, linkcolor=blue, citecolor=red, urlcolor=magenta, filecolor=cyan]{hyperref}


\hypersetup{
pdftitle={Lebesgue Integral Theory},
pdfauthor={Jaeho Shin},
}

\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\DeclareRobustCommand{\stirling}{\genfrac\{\}{0pt}{}}
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{quest}[thm]{Question}
\newtheorem{ppty}[thm]{Property}
\newtheorem{ppties}[thm]{Properties}
\newtheorem{axiom}[thm]{Axiom}
\newtheorem{claim}[thm]{Claim}
\newtheorem{prob}[thm]{Problem}


\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{defns}[thm]{Definitions}
\newtheorem{con}[thm]{Construction}
\newtheorem{exmp}[thm]{Example}
\newtheorem{exmps}[thm]{Examples}
\newtheorem{notn}[thm]{Notation}
\newtheorem{notns}[thm]{Notations}
\newtheorem{addm}[thm]{Addendum}
\newtheorem{exer}[thm]{Exercise}
\newtheorem{limit}[thm]{Limitation}


\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{rems}[thm]{Remarks}
\newtheorem{warn}[thm]{Warning}
\newtheorem{sch}[thm]{Scholium}


    % newcommand bb
    \newcommand{\BA}{{\mathbb {A}}} \newcommand{\BB}{{\mathbb {B}}}
    \newcommand{\BC}{{\mathbb {C}}} \newcommand{\BD}{{\mathbb {D}}}
    \newcommand{\BE}{{\mathbb {E}}} \newcommand{\BF}{{\mathbb {F}}}
    \newcommand{\BG}{{\mathbb {G}}} \newcommand{\BH}{{\mathbb {H}}}
    \newcommand{\BI}{{\mathbb {I}}} \newcommand{\BJ}{{\mathbb {J}}}
    \newcommand{\BK}{{\mathbb {U}}} \newcommand{\BL}{{\mathbb {L}}}
    \newcommand{\BM}{{\mathbb {M}}} \newcommand{\BN}{{\mathbb {N}}}
    \newcommand{\BO}{{\mathbb {O}}} \newcommand{\BP}{{\mathbb {P}}}
    \newcommand{\BQ}{{\mathbb {Q}}} \newcommand{\BR}{{\mathbb {R}}}
    \newcommand{\BS}{{\mathbb {S}}} \newcommand{\BT}{{\mathbb {T}}}
    \newcommand{\BU}{{\mathbb {U}}} \newcommand{\BV}{{\mathbb {V}}}
    \newcommand{\BW}{{\mathbb {W}}} \newcommand{\BX}{{\mathbb {X}}}
    \newcommand{\BY}{{\mathbb {Y}}} \newcommand{\BZ}{{\mathbb {Z}}}

    % newcommand  scr
    \newcommand{\sA}{{\mathscr {A}}} \newcommand{\sB}{{\mathscr {B}}}
    \newcommand{\sC}{{\mathscr {C}}} \newcommand{\sD}{{\mathscr {D}}}
    \newcommand{\sE}{{\mathscr {E}}} \newcommand{\sF}{{\mathscr {F}}}
    \newcommand{\sG}{{\mathscr {G}}} \newcommand{\sH}{{\mathscr {H}}}
    \newcommand{\sI}{{\mathscr {I}}} \newcommand{\sJ}{{\mathscr {J}}}
    \newcommand{\sK}{{\mathscr {K}}} \newcommand{\sL}{{\mathscr {L}}}
    \newcommand{\sN}{{\mathscr {N}}} \newcommand{\sM}{{\mathscr {M}}}
    \newcommand{\sO}{{\mathscr {O}}} \newcommand{\sP}{{\mathscr {P}}}
    \newcommand{\sQ}{{\mathscr {Q}}} \newcommand{\sR}{{\mathscr {R}}}
    \newcommand{\sS}{{\mathscr {S}}} \newcommand{\sT}{{\mathscr {T}}}
    \newcommand{\sU}{{\mathscr {U}}} \newcommand{\sV}{{\mathscr {V}}}
    \newcommand{\sW}{{\mathscr {W}}} \newcommand{\sX}{{\mathscr {X}}}
    \newcommand{\sY}{{\mathscr {Y}}} \newcommand{\sZ}{{\mathscr {Z}}}


    % newcommand cal
    \newcommand{\CA}{{\mathcal {A}}} \newcommand{\CB}{{\mathcal {B}}}
    \newcommand{\CC}{{\mathcal {C}}} \newcommand{\CD}{{\mathcal {D}}}
    \newcommand{\CE}{{\mathcal {E}}} \newcommand{\CF}{{\mathcal {F}}}
    \newcommand{\CG}{{\mathcal {G}}} \newcommand{\CH}{{\mathcal {H}}}
    \newcommand{\CI}{{\mathcal {I}}} \newcommand{\CJ}{{\mathcal {J}}}
    \newcommand{\CK}{{\mathcal {K}}} \newcommand{\CL}{{\mathcal {L}}}
    \newcommand{\CM}{{\mathcal {M}}} \newcommand{\CN}{{\mathcal {N}}}
    \newcommand{\CO}{{\mathcal {O}}} \newcommand{\CP}{{\mathcal {P}}}
    \newcommand{\CQ}{{\mathcal {Q}}} \newcommand{\CR}{{\mathcal {R}}}
    \newcommand{\CS}{{\mathcal {S}}} \newcommand{\CT}{{\mathcal {T}}}
    \newcommand{\CU}{{\mathcal {U}}} \newcommand{\CV}{{\mathcal {V}}}
    \newcommand{\CW}{{\mathcal {W}}} \newcommand{\CX}{{\mathcal {X}}}
    \newcommand{\CY}{{\mathcal {Y}}} \newcommand{\CZ}{{\mathcal {Z}}}

    % newcommand frak
    \newcommand{\fa}{{\mathfrak{a}}}  \newcommand{\fb}{{\mathfrak{b}}}
    \newcommand{\fc}{{\mathfrak{c}}}  \newcommand{\fd}{{\mathfrak{d}}}
    \newcommand{\fe}{{\mathfrak{e}}}  \newcommand{\ff}{{\mathfrak{f}}}
    \newcommand{\fg}{{\mathfrak{g}}}  \newcommand{\fh}{{\mathfrak{h}}}
    \newcommand{\fii}{{\mathfrak{i}}}  \newcommand{\fj}{{\mathfrak{j}}}
    \newcommand{\fk}{{\mathfrak{m}}}  \newcommand{\fl}{{\mathfrak{l}}}
    \newcommand{\fm}{{\mathfrak{m}}}  \newcommand{\fn}{{\mathfrak{n}}}
    \newcommand{\fo}{{\mathfrak{o}}}  \newcommand{\fp}{{\mathfrak{p}}}
    \newcommand{\fq}{{\mathfrak{q}}}  \newcommand{\fr}{{\mathfrak{r}}}
    \newcommand{\fs}{{\mathfrak{s}}}  \newcommand{\ft}{{\mathfrak{t}}}
    \newcommand{\fu}{{\mathfrak{u}}}  \newcommand{\fv}{{\mathfrak{v}}}
    \newcommand{\fw}{{\mathfrak{w}}}  \newcommand{\fx}{{\mathfrak{x}}}
    \newcommand{\fy}{{\mathfrak{y}}}  \newcommand{\fz}{{\mathfrak{z}}}

    \newcommand{\fA}{{\mathfrak{A}}}  \newcommand{\fB}{{\mathfrak{B}}}
    \newcommand{\fC}{{\mathfrak{C}}}  \newcommand{\fD}{{\mathfrak{D}}}
    \newcommand{\fE}{{\mathfrak{E}}}  \newcommand{\fF}{{\mathfrak{F}}}
    \newcommand{\fG}{{\mathfrak{G}}}  \newcommand{\fH}{{\mathfrak{H}}}
    \newcommand{\fI}{{\mathfrak{I}}}  \newcommand{\fJ}{{\mathfrak{J}}}
    \newcommand{\fK}{{\mathfrak{K}}}  \newcommand{\fL}{{\mathfrak{L}}}
    \newcommand{\fM}{{\mathfrak{M}}}  \newcommand{\fN}{{\mathfrak{N}}}
    \newcommand{\fO}{{\mathfrak{O}}}  \newcommand{\fP}{{\mathfrak{P}}}
    \newcommand{\fQ}{{\mathfrak{Q}}}  \newcommand{\fR}{{\mathfrak{R}}}
    \newcommand{\fS}{{\mathfrak{S}}}  \newcommand{\fT}{{\mathfrak{T}}}
    \newcommand{\fU}{{\mathfrak{U}}}  \newcommand{\fV}{{\mathfrak{V}}}
    \newcommand{\fW}{{\mathfrak{W}}}  \newcommand{\fX}{{\mathfrak{X}}}
    \newcommand{\fY}{{\mathfrak{Y}}}  \newcommand{\fZ}{{\mathfrak{Z}}}



    % newcommand :rm
    \newcommand{\RA}{{\mathrm {A}}} \newcommand{\RB}{{\mathrm {B}}}
    \newcommand{\RC}{{\mathrm {C}}} \newcommand{\RD}{{\mathrm {D}}}
    \newcommand{\RE}{{\mathrm {E}}} \newcommand{\RF}{{\mathrm {F}}}
    \newcommand{\RG}{{\mathrm {G}}} \newcommand{\RH}{{\mathrm {H}}}
    \newcommand{\RI}{{\mathrm {I}}} \newcommand{\RJ}{{\mathrm {J}}}
    \newcommand{\RK}{{\mathrm {K}}} \newcommand{\RL}{{\mathrm {L}}}
    \newcommand{\RM}{{\mathrm {M}}} \newcommand{\RN}{{\mathrm {N}}}
    \newcommand{\RO}{{\mathrm {O}}} \newcommand{\RP}{{\mathrm {P}}}
    \newcommand{\RQ}{{\mathrm {Q}}} \newcommand{\RR}{{\mathrm {R}}}
    \newcommand{\RS}{{\mathrm {S}}} \newcommand{\RT}{{\mathrm {T}}}
    \newcommand{\RU}{{\mathrm {U}}} \newcommand{\RV}{{\mathrm {V}}}
    \newcommand{\RW}{{\mathrm {W}}} \newcommand{\RX}{{\mathrm {X}}}
    \newcommand{\RY}{{\mathrm {Y}}} \newcommand{\RZ}{{\mathrm {Z}}}

    \newcommand{\Ad}{{\mathrm{Ad}}} \newcommand{\Aut}{{\mathrm{Aut}}}
    \newcommand{\Br}{{\mathrm{Br}}} \newcommand{\Ch}{{\mathrm{Ch}}}
    \newcommand{\cod}{{\mathrm{cod}}} \newcommand{\cont}{{\mathrm{cont}}}
    \newcommand{\cl}{{\mathrm{cl}}}   \newcommand{\Cl}{{\mathrm{Cl}}}
    \newcommand{\disc}{{\mathrm{disc}}}\newcommand{\Eis}{{\mathrm{Eis}}}
    \newcommand{\Div}{{\mathrm{Div}}} \renewcommand{\div}{{\mathrm{div}}}
    \newcommand{\End}{{\mathrm{End}}} \newcommand{\Frob}{{\mathrm{Frob}}}
    \newcommand{\Gal}{{\mathrm{Gal}}} \newcommand{\GL}{{\mathrm{GL}}}
    \newcommand{\Hom}{{\mathrm{Hom}}} \renewcommand{\Im}{{\mathrm{Im}}}
    \newcommand{\Ind}{{\mathrm{Ind}}} \newcommand{\ind}{{\mathrm{ind}}}
    \newcommand{\inv}{{\mathrm{inv}}}
    \newcommand{\Isom}{{\mathrm{Isom}}} \newcommand{\Jac}{{\mathrm{Jac}}}
    \newcommand{\ad}{{\mathrm{ad}}}  \newcommand{\Tr}{{\mathrm{Tr}}}
    \newcommand{\Ker}{{\mathrm{Ker}}} \newcommand{\Ros}{{\mathrm{Ros}}}
    \newcommand{\Lie}{{\mathrm{Lie}}} \newcommand{\Hol}{{\mathrm{Hol}}}

    \newcommand{\cyc}{{\mathrm{cyc}}}\newcommand{\id}{{\mathrm{id}}}
    \newcommand{\new}{{\mathrm{new}}} \newcommand{\NS}{{\mathrm{NS}}}
    \newcommand{\ord}{{\mathrm{ord}}} \newcommand{\rank}{{\mathrm{rank}}}
    \newcommand{\PGL}{{\mathrm{PGL}}} \newcommand{\Pic}{\mathrm{Pic}}
    \newcommand{\cond}{\mathrm{cond}} \newcommand{\Is}{{\mathrm{Is}}}
    \renewcommand{\Re}{{\mathrm{Re}}} \newcommand{\reg}{{\mathrm{reg}}}
    \newcommand{\Res}{{\mathrm{Res}}} \newcommand{\Sel}{{\mathrm{Sel}}}
    \newcommand{\RTr}{{\mathrm{Tr}}} \newcommand{\alg}{{\mathrm{alg}}}
    \newcommand{\PSL}{{\mathrm{PSL}}}

    \newcommand{\coker}{{\mathrm{coker}}}
    \newcommand{\val}{{\mathrm{val}}} \newcommand{\sign}{{\mathrm{sign}}}
    \newcommand{\mult}{{\mathrm{mult}}} \newcommand{\Vol}{{\mathrm{Vol}}}
    \newcommand{\Meas}{{\mathrm{Meas}}}\renewcommand{\mod}{\mathrm{mod}\ }
    \newcommand{\Ann}{\mathrm{Ann}}
    \newcommand{\Tor}{\mathrm{Tor}}
    \newcommand{\Supp}{\mathrm{Supp}}\newcommand{\supp}{\mathrm{supp}}
    \newcommand{\Max}{\mathrm{Max}}
    \newcommand{\Coker}{\mathrm{Coker}}
    \newcommand{\Stab}{\mathrm{Stab}}
    \newcommand{\Irr}{\mathrm{Irr}}\newcommand{\Inf}{\mathrm{Inf}}\newcommand{\Sup}{\mathrm{Sup}}
    \newcommand{\rk}{\mathrm{rk}}\newcommand{\Fil}{\mathrm{Fil}}
    \newcommand{\Sim}{{\mathrm{Sim}}} \newcommand{\SL}{{\mathrm{SL}}}
    \newcommand{\Spec}{{\mathrm{Spec}}} \newcommand{\SO}{{\mathrm{SO}}}
    \newcommand{\SU}{{\mathrm{SU}}} \newcommand{\Sym}{{\mathrm{Sym}}}
    \newcommand{\sgn}{{\mathrm{sgn}}} \newcommand{\tr}{{\mathrm{tr}}}
    \newcommand{\tor}{{\mathrm{tor}}}  \newcommand{\ur}{{\mathrm{ur}}}
    \newcommand{\vol}{{\mathrm{vol}}}  \newcommand{\ab}{{\mathrm{ab}}}
    \newcommand{\Sh}{{\mathrm{Sh}}} \newcommand{\Ell}{{\mathrm{Ell}}}
    \newcommand{\Char}{{\mathrm{Char}}}\newcommand{\Tate}{{\mathrm{Tate}}}
    \newcommand{\corank}{{\mathrm{corank}}} \newcommand{\Cond}{{\mathrm{Cond}}}
    \newcommand{\Inn}{{\mathrm{Inn}}} \newcommand{\Spf}{{\mathrm{Spf}}}
    \newcommand{\Mat}{{\mathrm{Mat}}} \newcommand{\im}{{\mathrm{im}\ }}
    \newcommand{\lcm}{{\mathrm{lcm}}} \newcommand{\Syl}{{\mathrm{Syl}}}
    \newcommand{\Int}{{\mathrm{Int}}}


    \font\cyr=wncyr10  \newcommand{\Sha}{\hbox{\cyr X}}
    \newcommand{\wt}{\widetilde} \newcommand{\wh}{\widehat} \newcommand{\ck}{\check}
    \newcommand{\pp}{\frac{\partial\bar\partial}{\pi i}}
    \newcommand{\pair}[1]{\langle {#1} \rangle}
    \newcommand{\wpair}[1]{\left\{{#1}\right\}}
    \newcommand{\intn}[1]{\left( {#1} \right)}
    \newcommand{\norm}[1]{\|{#1}\|}
    \newcommand{\sfrac}[2]{\left( \frac {#1}{#2}\right)}
    \newcommand{\ds}{\displaystyle}
    \newcommand{\ov}{\overline}
    \newcommand{\Gros}{Gr\"{o}ssencharaktere}
    \newcommand{\incl}{\hookrightarrow}
    \newcommand{\lra}{\longrightarrow}
    \newcommand{\ra}{\rightarrow}
    \newcommand{\imp}{\Longrightarrow}
    \newcommand{\lto}{\longmapsto}
    \newcommand{\bs}{\backslash}
    \newcommand{\nequiv}{\equiv\hspace{-7.8pt}/}
    \theoremstyle{plain}
    \newcommand{\triangleleftneq}{\mathrel{\ooalign{$\lneq$\cr\raise.22ex\hbox{$\lhd$}\cr}}}



\definecolor{energy}{RGB}{114,0,172}
\definecolor{freq}{RGB}{45,177,93}
\definecolor{spin}{RGB}{251,0,29}
\definecolor{signal}{RGB}{203,23,206}
\definecolor{circle}{RGB}{217,86,16}
\definecolor{average}{RGB}{203,23,206}
\newcommand{\K}{\operatornamewithlimits{K}}
\colorlet{shadecolor}{gray!20}
\pgfplotsset{compat=1.9}
\def\N{10}
\def\M{4}
\usepgflibrary{fpu}


\def\upint{\mathchoice%
    {\mkern13mu\overline{\vphantom{\intop}\mkern7mu}\mkern-20mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
  \int}
\def\lowint{\mkern3mu\underline{\vphantom{\intop}\mkern7mu}\mkern-10mu\int}


\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\csch}{csch}


\makeatletter
\let\c@equation\c@thm
\raggedbottom
\makeatother
\numberwithin{equation}{section}
%--------Meta Data: Fill in your info------
\author{Jaeho Shin, 20210344}

\title{LEBESGUE INTEGRAL THEORY}

\begin{document}

\begin{titlepage}
    \begin{center}
        \vspace*{9cm}
            
        \Huge
        \textbf{LEBESGUE INTEGRAL THEORY}
    
        \vspace{1cm}
        \large
        Measure Theory, Integration, and Hilbert spaces
        \vspace{3cm}
        
        \LARGE
        \textbf{Jaeho Shin}
            
        \vspace{8cm}
            
        \normalsize
        \textbf{Department of Mathematical Sciences, KAIST}\\  
    \end{center}
\end{titlepage}

\hypersetup{linkcolor=black}
\tableofcontents
\hypersetup{linkcolor=blue}

\newpage

\chapter{Measure Theory}\mbox{}

The goal of this course, especially in this chapter, is to provide a notion of “size” for subsets of $\mathbb{R}^d$ by constructing an appropriate function

\[m:\mathcal{P}(\BR^d)\rightarrow\BR^{\geq 0}\cup\{\infty\}\]
\\
satisfying the following properties:
\begin{enumerate}
    \item [(1)] $m(\emptyset)=0$
    \item [(2)] $m([b,a])=b-a$
    \item [(3)] If $E=\bigsqcup_{n=1}^{\infty}{E_n}$, then $m(E)=\sum_{n=1}^{\infty}{m(E_n)}$.
    \item [(4)] $m(E+h)=m(E)$ for all $h\in\BR$
\end{enumerate}
The third and fourth properties are called \textbf{countable additivity} and \textbf{translation invariance}, respectively. 
By regarding $m$ as a function that measures the size of sets, it seems very natural that $m$ should satisfy the above properties. 
However, this is just our intuition! As a math student, the natural follow-up question is as follows:

\vspace{5mm}
\large\textbf{Does $m$ exist? If it does, is $m$ unique?}
\vspace{5mm}
\normalsize

In fact, such a function $m$ does not exist. Then, what can we do next? One way to resolve this problem is to restrict the domain of $m$. 
By removing certain pathological sets, we can define a function $m$ which satisfies some nice properties. This domain will be called ``measurable sets'' and the function $m$ will be called the ``Lebesgue measure''.

\vspace{5mm}
\section{Preliminaries}\mbox{}

Recall that the collection $\{E_\alpha\}_{\alpha\in\mathcal{A}}$ of subsets in $\BR^d$ is said to be ``disjoint'' if $E_\alpha\cap E_\beta=\emptyset$ whenever $\alpha\neq\beta$. We define the slightly weaker concept ``almost disjoint'' as follows:

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.1.1]\label{Definition 1.1.1}
    Let $\{E_\alpha\}_{\alpha\in\mathcal{A}}$ be a collection subsets in $\BR^d$. Then $\{E_\alpha\}_{\alpha\in\mathcal{A}}$ is said to be \textbf{almost disjoint} if $\{\Int(E_\alpha)\}_{\alpha\in\mathcal{A}}$ is disjoint.
\end{tcolorbox}
\vspace{5mm}

Note that a closed \textbf{rectangle} $R$ in $\BR^d$ is given by 

\[R=[a_1,b_1]\times [a_2,b_2]\times\cdots\times[a_d,b_d],\]
\\
where $a_j\leq b_j$ for all $1\leq j\leq d$. The \textbf{volume} of the rectangle $R$ is denoted by $|R|$, and is defined to be

\[|R|=(b_1-a_1)(b_2-a_2)\cdots (b_d-a_d).\]
\\
\indent Moreover, a \textbf{cube} is a rectangle satisfying $b_1-a_1=b_2-a_2=\cdots=b_d-a_d$.

\vspace{5mm}

\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Lemma 1.1.1]\label{Lemma 1.1.1}
    \emph{If a rectangle $R$ can be written as a union of finitely many almost disjoint rectangles $R_1,\dots, R_N$, then }
    \[|R|=\sum_{k=1}^{N}{|R_k|}.\]
\end{tcolorbox}
\begin{proof}
    Consider the grid formed by extending the sides of all rectangles $R_1,\dots, R_N$. This gives finitely many smaller rectangles $\tilde{R}_1,\dots,\tilde{R}_M$ (they are also almost disjoint), and there exists a partition $J_1,\dots, J_N$ of integers between $1$ and $M$ such that

    \[R=\bigcup_{j=1}^{M}{\tilde{R}_j}\quad\text{and}\quad R_k=\bigcup_{j\in J_k}{\tilde{R}_j}\quad\text{for}\quad 1\leq k\leq M.\]
    \\
    For the rectangle $R$, it is clear that $|R|=\sum_{j=1}^{M}{|\tilde{R}_j|}$. By the same reason, we also have $|R_k|=\sum_{j\in J_k}{|\tilde{R}_j|}$. Therefore, one can obtain

    \[|R|=\sum_{j=1}^{M}{|\tilde{R}_j|}=\sum_{k=1}^{N}{\sum_{j\in J_k}{|\tilde{R}_j|}}=\sum_{k=1}^{N}{|R_k|}.\]
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Lemma 1.1.2]\label{Lemma 1.1.2}
    \emph{If $R, R_1,\dots,R_N$ are rectangles satisfying $R\subseteq\bigcup_{k=1}^{N}{R_k}$, then}
    \[|R|\leq \sum_{k=1}^{N}{|R_k|}.\]
\end{tcolorbox}
\begin{proof}
    As we did in Lemma \hyperref[Lemma 1.1.1]{1.1.1}, we can find smaller rectangles $\tilde{R}_1,\dots,\tilde{R}_M$. Note that there exist $J_0\subseteq\{1,\dots, M\}$ such that $R=\bigcup_{j\in J_0}{\tilde{R}_j}$. Let $R'\coloneqq\bigcup_{j=1}^{M}{\tilde{R}_j}$. Again, we can find a partition $J_1,\dots, J_N$ of $\{1,\dots, M\}$ such that 

    \[R_k=\bigcup_{j\in J_k}{\tilde{R}_j}\quad\text{for all}\quad 1\leq k\leq N.\]
    \\
    Note that $J_0, J_1,\dots, J_N$ need not be disjoint. 
    
    Since $R\subseteq\bigcup_{k=1}^{N}{R_k}$, we have $J_0\subseteq\bigcup_{k=1}^{N}{J_k}$. Therefore, we can obtain

    \[|R|=\sum_{j\in J_0}{|\tilde{R}_j|}\leq \sum_{k=1}^{N}{\sum_{j\in J_k}{|\tilde{R}_j|}}=\sum_{k=1}^{N}{|R_k|}.\]
    \\
    This completes the proof.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.1.3]\label{Theorem 1.1.3}
    \emph{Every open set $U\subseteq\BR$ can be written uniquely as a countable union of disjoint open intervals.}
\end{tcolorbox}
\begin{proof}
    For each $x\in U$, there exists an open interval, which contains $x$, contained in $U$. If $a_x=\inf\{a<x:(a,x)\subseteq U\}$ and $b_x=\sup\{b>x:(x,b)\subseteq U\}$, then 

    \[x\in I_x\coloneqq(a_x,b_x)\subseteq U.\]
    \\
    Hence, we get $U=\bigcup_{x\in U}{I_x}$. Moreover, note that $I_x$ is the largest open interval, which contains $x$, contained in $U$. 

    Suppose that two intervals $I_x$ and $I_y$ intersect. Then we have

    \[x\in I_x\cup I_y\subseteq U;\]
    \\
    by the maximality of $I_x$, we conclude that $(I_x\cup I_y)\subseteq I_x$. By the same argument, since $(I_x\cup I_y)\subseteq I_y$, we finally have $I_x=I_y$. Therefore, any two distinct intervals in $\mathcal{C}\coloneqq\{I_x\}_{x\in U}$ is disjoint.

    We claim that $\mathcal{C}$ is countable, i.e., it has countably many disjoint open intervals. Since each $I_x$ contains a rational number, any two distinct intervals must contain distinct rationals. Hence, the collection $\mathcal{C}$ must be countable.
\end{proof}
\vspace{5mm}

For $\BR^d$ with $d\geq 2$, the direct analogue of Theorem \hyperref[Theorem 1.1.3]{1.1.3} does not holds in general. However, we have a following alternative result:
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.1.4]\label{Theorem 1.1.4}
    \emph{For any $d\geq 1$, every open set $U\subseteq\BR^d$ can be written as a countable union of almost disjoint closed cubes.}
\end{tcolorbox}
\begin{proof}
    Consider the grid generated by $\BZ^d$. If a unit cube $C$ in the grid is entirely contained in $U$, then we collect such $C$ in a collection $\mathcal{C}$. If $C$ intersects both $U$ and $U^c$, then tentatively accept it; if $C$ entirely contained in $U^c$, then we reject it.

    As a second step, we divide the tentatively accepted cubes into $2^d$ cubes of side length $1/2$ and repeat the same procedure to collect the cubes entirely contained in $U$. This will be repeated indefinitely, and the resulting collection $\mathcal{C}$ of accepted cubes is countable and the elements are almost disjoint. 
    
    It is clear that, for any $x\in U$, there exists $N\in\BZ^+$ such that some cube of side length $2^{-N}$ contains $x$ and is contained in $U$. Either this cube is in $\mathcal{C}$ or it is contained in some cube in $\mathcal{C}$. Therefore, we have $U=\bigcup_{C\in\mathcal{C}}{C}$ which completes the proof.
\end{proof}
\vspace{5mm}

We now define a special set in $\BR$ which is called the ``Cantor set''. Let $C_0=[0,1]$ and let $C_1$ be the set obtained from $C_0$ by removing the middle third open interval of it. Thus we have

\[C_1=\left[0,\frac{1}{3}\right]\cup\left[\frac{2}{3},1\right].\]
\\
On top of that, we define $C_2$ as the set obtained from $C_1$ by removing the middle third of each of its intervals. Hence 

\[C_2=\left[0,\frac{1}{9}\right]\cup\left[\frac{2}{9},\frac{1}{3}\right]\cup\left[\frac{2}{3},\frac{7}{9}\right]\cup\left[\frac{8}{9},1\right].\]
\\
Repeating this procedure indefinitely, we can obtain a sequence $\{C_n\}_{n=0}^{\infty}$ of subsets in $\BR$. We now define the Cantor set as following:
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.1.2]\label{Definition 1.1.2}
    The \textbf{Cantor set} $\mathcal{C}$ is defined to be 

    \[\mathcal{C}\coloneqq\bigcap_{n=0}^{\infty}{C_n}.\]
\end{tcolorbox}
\vspace{5mm}
The Cantor set plays a significant role in various fields, particularly in analysis. We will later consider some examples involving this set.





\newpage
\section{The Exterior Measure}\mbox{}

This is an intermediate step towards constructing a measure that we will use throughout this course. We first define the ``exterior measure'' as follows.
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.2.1]\label{Definition 1.2.1}
    For any set $E\subseteq\BR^d$, the \textbf{exterior measure} $m_*(E)$ of $E$ is defied to be

    \[m_*(E)=\inf{\sum_{j=1}^{\infty}{|Q_j|}}\]
    \\
    where the infimum is taken over all countable coverings $\{Q_j\}_{j=1}^{\infty}$ of $E$ by closed cubes. (Note that they are not required to be disjoint.)
\end{tcolorbox}
\vspace{5mm}
The above definition of $m_*(E)$ is well-defined because every $E\subseteq\BR^d$ has at least one trivial covering $\{Q_j\}_{j=1}^{\infty}$ defined by

\[Q_j=[-j,j]^d\quad\text{for all}\quad j\in\BZ^+,\]
\\
and the completeness axiom of $\BR$ implies that the infimum should exists.

The one direct observation is as following: If $R=[a_1,b_1]\times\cdots\times [a_d,b_d]\subseteq\BR^d$, then

\[m_*(R)=\prod_{i=1}^{d}{(b_i-a_i)}=\Vol(R).\]
\\
where $\Vol(R)$ means the volume of $R$. 

\vspace{5mm}
There are some facts and nice properties of exterior measure as follows.

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=brown!75!black,title=Proposition 1.2.1]\label{Proposition 1.2.1}
    For every $E\subseteq\BR^d$, $0\leq m_*(E)\leq\infty$.
\end{tcolorbox}
\begin{proof}
    trivial.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=brown!75!black,title=Proposition 1.2.2]\label{Proposition 1.2.2}
    If $E$ is a singleton (one point set), then $m_*(E)=0$.
\end{tcolorbox}
\begin{proof}
    (Omitted).
\end{proof}
\begin{tcolorbox}[colback=yellow!10!white,colframe=brown!75!black,title=Proposition 1.2.3]\label{Proposition 1.2.3}
    The exterior measure of $\BR^d$ is infinite, i.e., $m_*(\BR^d)=\infty$.
\end{tcolorbox}
\begin{proof}
    Note that any covering $\{Q_j\}_{j=1}^{\infty}$ of $\BR^d$ also covers any closed cube $Q$ in $\BR^d$ so that

    \[|Q|=m_*(Q)\leq \sum_{j=1}^{\infty}{|Q_j|}.\]
    \\
    Then, by taking an infimum, we have $|Q|\leq m_*(\BR^d)$. Since $Q$ is chosen arbitrarily, we conclude that $m_*(\BR^d)=\infty$.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.2.4 (Monotonicity)]\label{Theorem 1.2.4}
    If $E_1\subseteq E_2$, then $m_*(E_1)\leq m_*(E_2)$.
\end{tcolorbox}
\begin{proof}
    As we did in the proof of Proposition \hyperref[Proposition 1.2.3]{1.2.3}, note that any covering $\{Q_j\}_{j=1}^{\infty}$ of $E_2$ also covers $E_1$ so that 

    \[m_*(E_1)\leq \sum_{j=1}^{\infty}{|Q_j|}.\]
    \\
    Since $m_*(E_1)$ is constant, by taking infimum, we get $m_*(E_1)\leq m_*(E_2)$.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Corollary 1.2.5]\label{Corollary 1.2.5}
    If $E\subseteq\BR^d$ is bounded, then $m_*(E)<\infty$.
\end{tcolorbox}
\begin{proof}
    Since $E$ is bounded, there exists $N>0$ such that 
    
    \[E\subseteq[-N,N]^d.\]
    \\
    By the monotonicity (Theorem \hyperref[Theorem 1.2.4]{1.2.4}), we conclude that

    \[m_*(E)\leq m_*([-N,N]^d)=(2N)^d<\infty.\]
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.2.6 (Countable subadditivity)]\label{Theorem 1.2.6}
    If $E=\bigcup_{j=1}^{\infty}{E_j}$, where the sets $E_j$ are not necessarily disjoint, then

    \[m_*(E)\leq \sum_{j=1}^{\infty}{m_*(E_j)}.\]
\end{tcolorbox}
\begin{proof}
    For any $\epsilon>0$, let $\{Q_{k,j}\}_{k=1}^{\infty}$ be a covering of $E_j$, for each $j\in\BZ^+$, such that 

    \[\sum_{k=1}^{\infty}{|Q_{k,j}|}<m_*(E_j)+\frac{\epsilon}{2^j}.\]
    \\
    Since we have $E\subseteq\bigcup_{j,k}{Q_{k,j}}$, thus

    \[m_*(E)\leq \sum_{j,k}{|Q_{k,j}|}<\sum_{j=1}^{\infty}{m_*(E_j)}+\epsilon.\]
    \\
    This implies that $m_*(E)\leq\sum_{j=1}^{\infty}{m_*(E_j)}$, as desired.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.2.7]\label{Theorem 1.2.7}
    For any $E\subseteq\BR^d$, $m_*(E)=\inf{m_*(\mathcal{O})}$ where the infimum is taken over all open sets containing $E$.
\end{tcolorbox}
\begin{proof}
    By the monotonicity, it is clear that $m_*(E)\leq\inf{m_*(\mathcal{O})}$. We now claim that the opposite inclusion is also true. For any $\epsilon>0$, there exists a covering $\{Q_j\}_{j=1}^{\infty}$ of $E$ by closed cubes such that

    \[\sum_{j=1}^{\infty}{|Q_j|}\leq m_*(E)+\epsilon.\]
    \\
    Let $Q_j^0$ denote a open cube containing $Q_j$ such that 

    \[|Q_j^0|\leq |Q_j|+\frac{\epsilon}{2^j}\quad\text{for all}\quad j\in\BZ^+.\]
    \\
    Let $\mathcal{O}\coloneqq\bigcup_{j=1}^{\infty}{Q_j^0}$, then it is an open set containing $E$. Then, by countable subadditivity (Theorem \hyperref[Theorem 1.2.6]{1.2.6}), we have
    \begin{align*}
        m_*(\mathcal{O})\leq \sum_{j=1}^{\infty}{m_*(Q_j^0)}&=\sum_{j=1}^{\infty}{|Q_j^0|}\\
        &=\sum_{j=1}^{\infty}{\left(|Q_j|+\frac{\epsilon}{2^j}\right)}\\
        &\leq m_*(E)+2\epsilon. 
    \end{align*}
    \\
    This proves that $\inf{m_*(\mathcal{O})}\leq m_*(E)$; hence, they are the same.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.2.8]\label{Theorem 1.2.8}
    Let $E=E_1\cup E_2$ where $E_1$ and $E_2$ are disjoint with $\mathrm{dist}(E_1,E_2)>0$. Then 

    \[m_*(E)=m_*(E_1)+m_*(E_2).\]
\end{tcolorbox}
\begin{proof}
    Let $\delta>0$ be a constant such that $0<\delta<\mathrm{dist}(E_1,E_2)$. For any $\epsilon>0$, there exists a covering $\{Q_j\}_{j=1}^{\infty}$ of $E$ by closed cubes such that 

    \[\sum_{j=1}^{\infty}{|Q_j|}\leq m_*(E)+\epsilon.\]
    \\
    By dividing every cube $Q_j$ into smaller pieces whose diameter is strictly less than $\delta$, we can find another covering $\{\tilde{Q}_j\}_{j=1}^{\infty}$ of $E$ such that $\mathrm{diam}(\tilde{Q}_j)<\delta$. Since $\mathrm{dist}(E_1,E_2)>\delta$, each $\tilde{Q}_j$ intersect at most one of $E_1$ and $E_2$. 

    Let $J_1$ and $J_2$ be the collection of indices $j$ for which $\tilde{Q}_j$ intersect $E_1$ and $E_2$, respectively. Then, it is clear that $\emptyset\neq J_1\cap J_2\subseteq\BZ^+$. Therefore,

    \[m_*(E_1)+m_*(E_2)\leq \sum_{j\in J_1}{|\tilde{Q}_j|}+\sum_{j\in J_2}{|\tilde{Q}_j|}\leq \sum_{j=1}^{\infty}{|Q_j|}\leq m_*(E)+\epsilon.\]
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.2.9]\label{Theorem 1.2.9}
    Let $E$ be the countable union of almost disjoint closed cubes $\{Q_j\}_{j=1}^{\infty}$, then

    \[m_*(E)=\sum_{j=1}^{\infty}{|Q_j|}.\]
\end{tcolorbox}
\begin{proof}
    By the monotonicity, $m_*(E)\leq\sum_{j=1}^{\infty}{|Q_j|}$ is trivial. Note that, for each $j$, there exists an open cube $\tilde{Q}_j$ such that $\ov{\tilde{Q}}_j\subseteq\Int{(Q_j)}$ such that 

    \[|Q_j|\leq |\tilde{Q}_j|+\frac{\epsilon}{2^j}.\]
    \\
    Fix some $N\in\BZ^+$, then $\tilde{Q}_1,\dots,\tilde{Q}_N$ are all disjoint with a positive distance to each other. Then, by Theorem \hyperref[Theorem 1.2.8]{1.2.8}, we have 

    \[m_*\left(\bigcup_{j=1}^{N}{\tilde{Q}_j}\right)=\sum_{j=1}^{N}{|\tilde{Q}_j|}\geq \sum_{j=1}^{N}{\left(|Q_j|-\frac{\epsilon}{2^j}\right)}.\]
    \\
    Since $E$ contains $\bigcup_{j=1}^{N}{\tilde{Q}_j}$, the monotonicity gives that

    \[m_*(E)\geq m_*\left(\bigcup_{j=1}^{N}{\tilde{Q}_j}\right)\geq\sum_{j=1}^{N}{|Q_j|-\epsilon}.\]
    \\
    Since $N$ is chosen arbitrarily, as $N\rightarrow\infty$, we obtain
    
    \[\sum_{j=1}^{\infty}{|Q_j|}\leq m_*(E)+\epsilon.\]
    \\
    Therefore, we conclude that $\sum_{j=1}^{\infty}{|Q_j|}\leq m_*(E)$ and this completes the proof.
\end{proof}





\newpage
\section{Measurable Sets and the Lebesgue Measure}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.3.1]\label{Definition 1.3.1}
    A subset $E\subseteq\BR^d$ is said to be \textbf{measurable} if for any $\epsilon>0$, there exists an open set $\mathcal{O}$ containing $E$ such that 

    \[m_*(\mathcal{O}-E)<\epsilon.\]
    \\
    Recall that the exterior measure was defined for all subsets of $\BR^d$ in Section 1.2. Now, we define the \textbf{Lebesgue measure}, denoted by $m$, as the restriction of $m_*$ to the collection of all measurable sets. 
\end{tcolorbox}
\vspace{5mm}

The above definition clearly implies the following properties:

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=brown!75!black,title=Proposition 1.3.1]\label{Proposition 1.3.1}
    \begin{enumerate}
        \item [(1)] Every open set $E\subseteq\BR^d$ is measurable.
        \item [(2)] If $m_*(E)=0$, then $E$ is measurable. 
        \item [(3)] A countable union of measurable sets is measurable.
        \item [(4)] Every closed set is measurable.
        \item [(5)] The complement of a measurable set is measurable.
        \item [(6)] A countable intersection of measurable sets is measurable.
    \end{enumerate}
\end{tcolorbox}
\begin{proof}
    (1) Taking $\mathcal{O}=E$ completes the proof.

    \vspace{5mm}
    (2) By Theorem \hyperref[Theorem 1.2.7]{1.2.7}, since $m_*(E)=0$, for any $\epsilon>0$, there exists an open set $\mathcal{O}$ containing $E$ such that $m_*(\mathcal{O})<\epsilon$. Since we have $\mathcal{O}-E\subseteq\mathcal{O}$, by the monotonicity, 

    \[m_*(\mathcal{O}-E)\leq m_*(\mathcal{O})<\epsilon.\]
    \\
    Therefore, $E$ is measurable.

    \vspace{5mm}
    (3) Let $E=\bigcup_{j=1}^{\infty}{E_j}$ where each $E_j$ is measurable. For any $\epsilon>0$, there exists an open set $\mathcal{O}_j$ containing $E_j$ such that 

    \[m_*(\mathcal{O}_j-E_j)<\frac{\epsilon}{2^j}\]
    \\
    for all $j\in\BZ^+$. Let $\mathcal{O}\coloneqq\bigcup_{j=1}^{\infty}{\mathcal{O}_j}$, then $\mathcal{O}$ is an open set containing $E$. Moreover, since 

    \[\mathcal{O}-E\subseteq\bigcup_{j=1}^{\infty}{(\mathcal{O}_j-E_j)},\]
    \\
    we have 

    \[m_*(\mathcal{O}-E)\leq \sum_{j=1}^{\infty}{m_*(\mathcal{O}_j-E_j)}<\sum_{j=1}^{\infty}{\frac{\epsilon}{2^j}}=\epsilon.\]
    \\
    Therefore, $E$ is also measurable.

    \vspace{5mm}
    (4) We first claim that any compact set $F\subseteq\BR^d$ is measurable. Let $\mathcal{O}$ be an open set containing $F$ such that $m_*(\mathcal{O}-F)<\epsilon$ so that 

    \[m_*(\mathcal{O})=m_*\big(F\cup(\mathcal{O}-F)\big)\leq m_*(F)+\epsilon.\]
    \\
    Since $\mathcal{O}-F$ is open in $\BR^d$, by Theorem \hyperref[Theorem 1.1.4]{1.1.4}, it can be written as a countable union of almost disjoint closed cubes, that is,

    \[\mathcal{O}-F=\bigcup_{j=1}^{\infty}{Q_j}\]
    \\
    where $\{Q_j\}_{j=1}^{\infty}$ is a collection of almost disjoint closed cubes. For a fixed $N\in\BZ^+$, let $K\coloneqq\bigcup_{j=1}^{N}{Q_j}$ so that $K$ is compact and $K\cap F=\emptyset$. Therefore, by Lemma \hyperref[Lemma 1.3.2]{1.3.2}, we have $\mathrm{dist}(F,K)>0$. Hence, the Theorem \hyperref[Theorem 1.2.8]{1.2.8} implies that

    \[m_*(\mathcal{O})\geq m_*(F\cup K)=m_*(F)+m_*(K)=m_*(F)+\sum_{j=1}^{N}{m_*(Q_j)}.\]
    \\
    Since we have $m_*(\mathcal{O})\leq m_*(F)+\epsilon$, the above inequality implies that 

    \[\sum_{j=1}^{N}{m_*(Q_j)}\leq \epsilon.\]
    \\
    Since $N$ is chosen arbitrarily, we have $\sum_{j=1}^{\infty}{m_*(Q_j)}\leq \epsilon$; therefore, 

    \[m_*(\mathcal{O}-F)=\sum_{j=1}^{\infty}{m_*(Q_j)}\leq \epsilon\]
    \\
    by Theorem \hyperref[Theorem 1.2.9]{1.2.9}. This proves that $F$ is measurable.

    For the general case that the closed set $F$ is not compact, note that 

    \[F=\bigcup_{k=1}^{\infty}{\left[F\cap [-k,k]^d\right]}\]
    \\
    where $F\cap [-k,k]^d$ is compact for all $k\in\BZ^+$. Since $F$ is a countable union of measurable sets, by part (3), it is also measurable.

    \vspace{5mm}
    (5) Note that, for any $n\in\BZ^+$, there exists an open set $\mathcal{O}_n$ containing $E$ such that 

    \[m_*(\mathcal{O}_n-E)\leq\frac{1}{n}.\]
    \\
    Let $S\coloneqq\bigcup_{n=1}^{\infty}{\mathcal{O}_n^c}$, then we have $S\subseteq E^c$. Since each $\mathcal{O}_n^c$ is closed, so is $S$ and this implies that $S$ is measurable by part (4). Note that $E^c-S\subseteq\mathcal{O}_n-E$ holds for all $n$, thus
    
    \[m_*(E^c-S)\leq m_*(\mathcal{O}_n-E)\leq\frac{1}{n}.\]
    \\
    As $n\rightarrow\infty$, we obtain $m_*(E^c-S)=0$, that is, $E^c-S$ is measurable by part (2). Therefore, we conclude that $E^c$ is also measurable since it is the union of two measurable sets $E^c-S$ and $S$.

    \vspace{5mm}
    (6) Recall that $\bigcap_{i=1}^{\infty}{E_j}=\left(\bigcup_{j=1}^{\infty}{E_j^c}\right)^c$ and apply the part (3) and (5).
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Lemma 1.3.2]\label{Lemma 1.3.2}
    If $F\subseteq\BR^d$ is closed, $K\subseteq\BR^d$ is compact, and $F\cap K=\emptyset$, then $\mathrm{dist}(F,K)>0$.
\end{tcolorbox}
\vspace{5mm}
\begin{proof}
    Pick any $x\in K$. Since $x\in F$ and $F$ is closed, there exists $\delta_x>0$ such that $B_d(x,\delta_x)\subseteq F^c$ so that $\mathrm{dist}(x,F)\geq\delta_x$. Let 

    \[\mathcal{C}=\big\{B_d\left(x,\delta_x/2\right)\mid x\in K\big\}\]
    \\
    then $\mathcal{C}$ is an open covering of $K$. Since $K$ is compact, we can find some finite subcover of $\mathcal{C}$, that is, there exists $x_1,\dots, x_N\in K$ such that $\{B_d(x_i,\delta_{x_i}/2)\}_{i=1}^{N}$ covers $K$. Let 

    \[\delta\coloneqq\min\left\{\frac{\delta_{x_i}}{2}\ \Big|\ 1\leq i\leq N\right\}.\]
    \\
    Then, for any $x\in K$, there exists $i\in\{1,\dots,N\}$ such that $x\in B_d(x_i, \delta_{x_i}/2)$; hence, for any $y\in F$, we can obtain

    \[d(y,x)\geq d(y,x_i)-d(x_i,x)\geq 2\delta-\delta=\delta>0.\]
    \\
    Therefore, we conclude that 

    \[d(F,K)=\inf_{\substack{x\in K\\ y\in F}}{d(y,x)}\geq\delta>0.\]
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.3.3]\label{Theorem 1.3.3}
    If $\{E_j\}_{j=1}^{\infty}$ are disjoint measurable sets, then their union is measurable and

    \[m\left(\bigcup_{j=1}^{\infty}{E_j}\right)=\sum_{j=1}^{\infty}{m(E_j)}.\]
\end{tcolorbox}
\begin{proof}
    Note that the union is measurable by Proposition \hyperref[Proposition 1.3.1]{1.3.1} and 
    
    \[m\left(\bigcup_{j=1}^{\infty}{E_j}\right)\leq\sum_{j=1}^{\infty}{m(E_j)}\]
    \\
    by countable subadditivity. We now claim that the opposite inclusion also holds.
    
    We first prove the claim for the case when each $E_j$ is bounded so that $m_*(E_j)<\infty$. Since each $E_j$ is measurable, so is $E_j^c$. Hence, for any $\epsilon>0$, there exists an open set $\mathcal{O}_j$ containing $E_j^c$ such that 

    \[m_*(\mathcal{O}_j-E_j^c)<\frac{\epsilon}{2^j}.\]
    \\
    Since $\mathcal{O}_j^c$ is a closed set contained in $E_j$ with $m_*(E_j-\mathcal{O}_j^c)<\epsilon/2^j$, Thus
    
    \[m_*(E_j)\leq m_*(\mathcal{O}_j^c)+m_*(E_j-\mathcal{O}_j^c)\leq m_*(\mathcal{O}_j^c)+\frac{\epsilon}{2^j}.\]
    \\
    Pick some $N$. Since $\mathcal{O}_1^c,\dots,\mathcal{O}_N^c$ are disjoint and compact, they are all separated. Then 

    \[m_*\left(\bigcup_{j=1}^{\infty}{E_j}\right)\geq m_*\left(\bigcup_{j=1}^{N}{\mathcal{O}_j^c}\right)=\sum_{j=1}^{N}{m_*(\mathcal{O}_j^c)}\geq\sum_{j=1}^{N}{\left(m_*(E_j)-\frac{\epsilon}{2^j}\right)}.\]
    \\
    Thus we have 

    \[m_*\left(\bigcup_{j=1}^{\infty}{E_j}\right)\geq \sum_{j=1}^{N}{m_*(E_j)}-\epsilon.\]
    \\
    Letting $N\rightarrow\infty$, since $\epsilon>0$ is chosen arbitrarily, we conclude that 

    \[m\left(\bigcup_{j=1}^{\infty}{E_j}\right)\geq \sum_{j=1}^{\infty}{m(E_j)}.\]
    \\
    Therefore, the theorem holds in this case.

    \indent For the general case, let $Q_k\coloneqq [-k,k]^d$ and $S_k\coloneqq Q_k-Q_{k-1}$ with $S_1=Q_1$. By taking the collection of $E_{j,k}\coloneqq E_j\cap S_k$ which is bounded, we have 

    \[\bigcup_{j=1}^{\infty}{E_j}=\bigcup_{j,k}{E_{j,k}}.\]
    \\
    Since $E_{j,k}$'s are disjoint measurable, by the above result, we have 

    \[m\left(\bigcup_{j=1}^{\infty}{E_j}\right)=\sum_{j,k}{m(E_{j,k})}=\sum_{j=1}^{\infty}{m(E_j)}\]
    \\
    because $E_j=\bigcup_{k=1}^{\infty}{E_{j,k}}$ for all $j$.  
\end{proof}
\vspace{5mm}

We now introduce the following notation:
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.3.2]\label{Definition 1.3.2}
    Let $\{E_j\}_{j=1}^{\infty}$ be a collection of subsets of $\BR^d$.
    \begin{enumerate}
        \item [(1)] We write $E_j\nearrow E$ if $E_k\subseteq E_{k+1}$ for all $k\in\BZ^+$ and $E=\bigcup_{j=1}^{\infty}{E_j}$.
        \item [(2)] We write $E_j\searrow E$ if $E_k\supseteq E_{k+1}$ for all $k\in\BZ^+$ and $E=\bigcap_{j=1}^{\infty}{E_j}$.
    \end{enumerate}
\end{tcolorbox}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Corollary 1.3.4]\label{Corollary 1.3.4}
    Let $\{E_j\}_{j=1}^{\infty}$ be a collection of measurable sets in $\BR^d$.
    \begin{enumerate}
        \item [(1)] If $E_j\nearrow E$, then $m(E)=\lim_{n\rightarrow\infty}{m(E_n)}$.
        \item [(2)] If $E_j\searrow E$ and $m(E_1)<\infty$, then $m(E)=\lim_{n\rightarrow\infty}{m(E_n)}$.
    \end{enumerate}
\end{tcolorbox}
\begin{proof}
    (1) Let $G_1\coloneqq E_1$ and $G_k\coloneqq E_k-E_{k-1}$ for all $k\geq 2$. Then $E=\bigcup_{k=1}^{\infty}{G_k}$ where $\{G_k\}_{k=1}^{\infty}$ are disjoint measurable sets in $\BR^d$. Therefore, by Theorem \hyperref[Theorem 1.3.3]{1.3.3}, we have

    \[m(E)=\sum_{k=1}^{\infty}{m(G_k)}=\lim_{n\rightarrow\infty}{\sum_{k=1}^{n}{m(G_k)}}.\]
    \\
    Note that $\sum_{k=1}^{n}{m(G_k)}=m(E_n)$ since $E_n=\bigcup_{k=1}^{n}{G_k}$; therefore, we have

    \[m(E)=\lim_{n\rightarrow\infty}{m(E_n)}.\]

    \vspace{5mm}
    (2) Similarly, let $G_k\coloneqq E_k-E_{k+1}$ for all $k\in\BZ^+$. Then each $G_k$ is measurable, and

    \[E_1=E\cup\left(\bigcup_{k=1}^{\infty}{G_k}\right).\]
    Hence we have 
    \[m(E_1)=m(E)+\lim_{n\rightarrow\infty}{\sum_{k=1}^{n-1}{m(G_k)}},\]
    \\
    and since $E_1-E_n=\bigcup_{k=1}^{n}{G_k}$ implies that $\sum_{k=1}^{n-1}{m(G_k)}=m(E_1)-m(E_n)$, thus

    \[m(E_1)=m(E)+m(E_1)-\lim_{n\rightarrow\infty}{m(E_n)}.\]
    \\
    Here, since $m(E_1)<\infty$, we can conclude that 

    \[m(E)=\lim_{n\rightarrow\infty}{m(E_n)}.\]
    \\
    This completes the proof.
\end{proof}
\vspace{5mm}

Note that if we drop the condition $m(E_1)<\infty$, then the conclusion of part (2) may not hold. Such an example is as following: Let $E_k=(k,\infty)$ for all $k\in\BZ^+$. Then $E_k\searrow\emptyset$ but $m(E_k)=\infty$ whereas $m(\emptyset)=0$.

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.3.5]\label{Theorem 1.3.5}
    Let $E$ be a measurable set in $\BR^d$. Then, for any $\epsilon>0$, 
    \begin{enumerate}
        \item [(1)] there exists an open set $\mathcal{O}\supseteq E$ such that $m(\mathcal{O}-E)\leq\epsilon$.
        \item [(2)] there exists a closed set $F\subseteq E$ such that $m(E-F)\leq\epsilon$.
        \item [(3)] if $m(E)<\infty$, then there exists a compact set $K\subseteq E$ such that $m(E-K)\leq\epsilon$.
        \item [(4)] if $m(E)<\infty$, then there exists $F=\bigcup_{j=1}^{N}{Q_j}$ such that $m(E\triangle F)\leq \epsilon$ where $\{Q_j\}_{j=1}^{N}$ are closed cubes which are not necessarily disjoint. 
    \end{enumerate}
\end{tcolorbox}
\begin{proof}
    Note that (1) and (2) are clear by the definition of measurability.

    \vspace{5mm}
    (3) Take a closed set $F\subseteq E$ such that $m(E-F)\leq\epsilon/2$. Let 

    \[K_n\coloneqq F\cap [-n,n]^d\]
    \\
    for all $n\in\BZ^+$, then they are all compact. Since $(E-K_n)\searrow (E-F)$ and $m(E)<\infty$, by Corollary \hyperref[Corollary 1.3.4]{1.3.4}, we have 

    \[\lim_{n\rightarrow\infty}{m(E-K_n)}=m(E-F)\leq\frac{\epsilon}{2}.\]
    \\
    Hence, we conclude that $m(E-K_N)\leq \epsilon$ for sufficiently large $N$.

    \vspace{5mm}
    (4) Let $\{Q_j\}_{j=1}^{\infty}$ be a covering of $E$ by closed cubes such that 

    \[\sum_{j=1}^{\infty}{|Q_j|}\leq m(E)+\frac{\epsilon}{2}.\]
    \\
    Take some large $N$ so that $\sum_{j=N+1}^{\infty}{|Q_j|}<\frac{\epsilon}{2}$. Let $F\coloneqq\sum_{j=1}^{N}{Q_j}$, then

    \begin{align*}
        m(E\triangle F) &= m(E-F) + m(F-E)\\
        &\leq m\left(\bigcup_{j=N+1}^{\infty}{Q_j}\right)+m\left(\bigcup_{j=1}^{\infty}{Q_j}-E\right)\\
        &\leq \sum_{j=N+1}^{\infty}{|Q_j|}+\left[m\left(\bigcup_{j=1}^{\infty}{Q_j}\right)-m(E)\right]\\
        &\leq \frac{\epsilon}{2}+\frac{\epsilon}{2}=\epsilon.
    \end{align*}
    \\
    This completes the proof.
\end{proof}
\vspace{5mm}

The Lebesgue measure has some properties called \textbf{translation-invariance}, \textbf{relative dilation-invariance}, and \textbf{reflection-invariant}. Each of them is as following:

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=brown!75!black,title=Proposition 1.3.6]\label{Proposition 1.3.6}
    Let $E$ be a measurable set in $\BR^d$.
    \begin{enumerate}
        \item [(1)] If $h\in\BR^d$, then $E+h$ is measurable and $m(E+h)=m(E)$.
        \item [(2)] If $\delta>0$, then $\delta E$ is measurable and $m(\delta E)=\delta^d m(E)$.
        \item [(3)] Then $-E$ is measurable and $m(-E)=m(E)$.
        \item [(4)] If $L$ is a linear transformations of $\BR^d$ to $\BR^d$, then $L(E)$ is measurable and 
        \[m(L(E))=|\det{(L)}|m(E).\]
    \end{enumerate}
\end{tcolorbox}
\begin{proof}
    (1) Recall that the exterior measure is invariant under the translation. (It is obvious from the definition.) Since $E$ is measurable, there exists an open set $\mathcal{O}\supseteq E$ such that $m_*(\mathcal{O}-E)<\epsilon$. Then, $\mathcal{O}+h$ is open and $\mathcal{O}+h\supseteq E+h$. Therefore, we have 

    \[m_*\big((\mathcal{O}+h)-(E+h)\big)=m_*\big((\mathcal{O}-E)+h\big)=m_*(\mathcal{O}-E)<\epsilon.\]
    \\
    This proves that $E+h$ is measurable and $m(E+h)=m(E)$.

    \vspace{5mm}
    (2) For given $\epsilon>0$, let $\{Q_j\}_{j=1}^{\infty}$ be a covering of $E$ by closed cubes such that 

    \[\sum_{j=1}^{\infty}{|Q_j|}\leq m_*(E)+\frac{\epsilon}{\delta^d}.\]
    \\
    Then $\{\delta Q_j\}_{j=1}^{\infty}$ is a covering of $\delta E$ so that 

    \[m_*(\delta E)\leq \sum_{j=1}^{\infty}{|\delta Q_j|}=\delta^d\sum_{j=1}^{\infty}{|Q_j|}\leq \delta^d m_*(E)+\epsilon.\]
    \\
    Since $\epsilon>0$ is arbitrarily chosen, the above inequality implies that $m_*(\delta E)\leq \delta^d m_*(E)$. 

    Conversely, applying the above result to $\delta E$ with replacing $\delta$ by $1/\delta$ gives 

    \[m_*\left(\frac{1}{\delta}(\delta E)\right)\leq\frac{1}{\delta^d}m_*(\delta E)\]
    \\
    so that $\delta^d m_*(E)\leq m_*(\delta E)$. Therefore, we have $m_*(\delta E)=\delta^d m_*(E)$.

    Using this property, one can prove that $\delta E$ is measurable. The fact that $E$ is measurable implies that there exists an open set $\mathcal{O}$ containing $E$ such that $m_*(\mathcal{O}-E)<\epsilon/\delta^d$. Since $\delta \mathcal{O}$ is an open st containing $\delta E$, we have 

    \[m_*(\delta\mathcal{O}-\delta E)=\delta^d m_*(\mathcal{O}-E)<\epsilon.\]
    \\
    This proves that $\delta E$ is measurable and $m(\delta E)=\delta^d m(E)$.

    \vspace{5mm}
    (3) It is easy to check that $-E$ is measurable. For given $\epsilon>0$, let $\{Q_j\}_{j=1}^\infty$ be a covering of $E$ by closed cubes such that 

    \[\sum_{j=1}^{\infty}{|Q_j|}\leq m(E)+\epsilon.\]
    \\
    Then $\{-Q_j\}_{j=1}^{\infty}$ is a covering of $-E$ so that 

    \[m(-E)\leq\sum_{j=1}^{\infty}{|-Q_j|}=\sum_{j=1}^{\infty}{|Q_j|}\leq m(E)+\epsilon.\]
    \\
    Since $\epsilon>0$ is arbitrarily chosen, the above inequality implies that $m(-E)\leq m(E)$. By replacing $E$ by $-E$, we conclude that $m(-E)=m(E)$.

    \vspace{5mm}
    (4) (Omitted).
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.3.3]\label{Definition 1.3.3}
    A collection of subsets of $\BR^d$ is called \textbf{$\sigma$-algebra} if it is closed under countable unions, countable intersections, and complements.
\end{tcolorbox}
\vspace{5mm}

For example, $\mathcal{P}(\BR^d)$ is a $\sigma$-algebra since it is closed under countable unions, countable intersections, and complements. Similarly, the collection of all measurable sets in $\BR^d$ is of course a $\sigma$-algebra.
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.3.4]\label{Definition 1.3.4}
    The \textbf{Borel $\sigma$-algebra} in $\BR^d$, denoted by $\mathcal{B}_{\BR^d}$ is the smallest $\sigma$-algebra containing all open sets in $\BR^d$. Every element of the Borel $\sigma$-algebra is called the \textbf{Borel set}.
\end{tcolorbox}

\vspace{5mm}
It is easy to check that arbitrary intersection $\sigma$-algebras is again a $\sigma$-algebra. Therefore, we can define $\mathcal{B}_{\BR^d}$ as the intersection of all $\sigma$-algebras containing all open sets in $\BR^d$. This proves the existence and uniqueness of the Borel $\sigma$-algebra.

Since the collection of measurable sets is $\sigma$-algebra containing all open sets in $\BR^d$, the Borel $\sigma$-algebra is contained in it. Note that the inclusion is strict.

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.3.5]\label{Definition 1.3.5}
    \begin{enumerate}
        \item [(1)] A countable intersection of open sets is called the $\bm{G_\delta}$ \textbf{set}.
        \item [(2)] A countable union of closed sets is called the $\bm{F_\sigma}$ \textbf{set}.
    \end{enumerate}
\end{tcolorbox}
\vspace{5mm}
Recall that, for any two sets $A$ and $B$, the set $A\triangle B$ is defined to be 

\[A\triangle B=(A\setminus B)\cup (B\setminus A).\]
\[\]
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.3.7]\label{Theorem 1.3.7}
    A subset $E$ of $\BR^d$ is measurable 
    \begin{enumerate}
        \item [(1)] if and only if there exists $G_\delta$ set $G$ such that $m(E\triangle G)=0$.
        \item [(2)] if and only if there exists $F_\sigma$ set $F$ such that $m(E\triangle F)=0$.
    \end{enumerate}
\end{tcolorbox}
\begin{proof}
    Note that $E$ is measurable if either (1) or (2) is satisfied.

    \vspace{5mm}
    (1) Since $E$ is measurable, for each $n$, there exists an open set $\mathcal{O}_n$ containing $E$ such that $m(\mathcal{O}_n-E)<1/n$. Let $G\coloneqq\bigcap_{j=1}^{\infty}{\mathcal{O}_n}$, then it is a $G_\delta$ set containing $E$. Moreover, 

    \[G-E_n\subseteq \mathcal{O}_n-E\quad\Longrightarrow\quad m(G-E)\leq m(\mathcal{O}_n-E)\leq\frac{1}{n}\]
    \\
    for all $n\in\BZ^+$. Therefore, we conclude that $m(G-E)=0$.
    
    \vspace{5mm}
    (2) One can do the same by finding a sequence of closed sets $F_n$ contained in $E$ with $m(E-F_n)<1/n$, and let $F\coloneqq\bigcup_{j=1}^{\infty}{F_n}$. Then we have $m(E-F)=0$.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.3.8]\label{Theorem 1.3.8}
    There exists a non-measurable set.
\end{tcolorbox}
\begin{proof}
    Define a relation $\sim$ on $[0,1]$ by $x\sim y$ if $x-y\in\BQ$. Then the relation $\sim$ is an equivalence relation on $[0,1]$. Let $\{\mathcal{E}_\alpha\}_{\alpha\in\mathcal{A}}$ denotes the equivalence classes so that

    \[[0,1]=\bigcup_{\alpha\in\mathcal{A}}{\mathcal{E}_\alpha}.\]
    \\
    Pick arbitrary representative $x_\alpha$ from $\mathcal{E}_\alpha$, for each $\alpha\in\mathcal{A}$. Let 

    \[\mathcal{N}\coloneqq\bigcup_{\alpha\in\mathcal{A}}{\{x_\alpha\}}.\]
    \\
    (Such a construction is possible because of the ``\textbf{axiom of choice}''.) We now claim that $\mathcal{N}$ is not measurable.

    Let $\{r_k\}_{k=1}^{\infty}$ denote arbitrary enumeration of $\BQ\cap [-1,1]$. Then 
    
    \[[0,1]\subseteq \bigcup_{k=1}^{\infty}{(\mathcal{N}+r_k)}\subseteq [-1,2]\]
    \\
    where the sets $\mathcal{N}+r_k$ are all disjoint. If $\mathcal{N}$ is measurable, then so is $\mathcal{N}+r_k$; thus

    \[m([0,1])\leq \sum_{k=1}^{\infty}{m(\mathcal{N}+r_k)}\leq m([-1,2]).\]
    \\
    Since $m(\mathcal{N}+r_k)=m(\mathcal{N})$ for all $k$, we have 

    \[-1\leq \sum_{k=1}^{\infty}{m(\mathcal{N})}\leq 3\]
    \\
    which is a contradiction. Therefore, $\mathcal{N}$ is not measurable.
\end{proof}
\vspace{5mm}

The set $\mathcal{N}$ defined above is called a \textbf{Vitali set}. Note that the set is not unique, since it depends on the choice of representatives $x_\alpha$ from each equivalence class $\mathcal{E}_\alpha$.




\newpage
\section{Measurable Functions}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.4.1]\label{Definition 1.4.1}
    Let $E$ be a subset of $\BR^d$. The \textbf{characteristic function} of $E$ is 

    \[\chi_{E}(x)\coloneqq\begin{cases}
        1 & \text{if $x\in E$},\\
        0 & \text{if $x\notin E$}.
    \end{cases}\]
\end{tcolorbox}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.4.2]\label{Definition 1.4.2}
    A \textbf{simple function} is defined as a finite linear combination 

    \[f=\sum_{k=1}^{N}{a_k\chi_{E_k}}\]
    \\
    where each $E_k$ is a measurable set of finite measurable.
\end{tcolorbox}
\vspace{5mm}

Let $f:\BR^d\rightarrow \BR\cup\{\pm\infty\}$ and assume

\[m(\{x\in\BR^d \mid f(x)=\pm\infty\})=0.\]
\\
Then we define the ``measurable functions'' as following:

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.4.3]\label{Definition 1.4.3}
    A function $f$ is called the \textbf{measurable function} if the level set 

    \[f^{-1}([-\infty,a))=\{x\in \BR^d \mid f(x)<a\}\]
    \\
    is measurable for all $a\in\BR$.
\end{tcolorbox}
\vspace{5mm}

In fact, the definition remains equivalent even if we use $f^{-1}([-\infty,a])$, or $f^{-1}((a,\infty])$, or $f^{-1}([a,\infty])$ instead of $f^{-1}([-\infty,a))$. For instance, since we have

\[\{f\leq a\}=\bigcap_{k=1}^{\infty}{\{f<a+1/k\}}\]
and 
\[\{f<a\}=\bigcup_{k=1}^{\infty}{\{f\leq a-1/k\}}\]
\\
the definition using $f^{-1}([-\infty,a])$ is equivalent to the original definition. 

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.1]\label{Theorem 1.4.1}
    Let $f$ be a finite-value function, then the following are equivalent:
    \begin{enumerate}
        \item [(1)] $f$ is measurable.
        \item [(2)] $f^{-1}(\mathcal{O})$ is measurable for every open set $\mathcal{O}$ in $\BR$.
        \item [(3)] $f^{-1}(F)$ is measurable for every closed set $F$ in $\BR$.
    \end{enumerate}
\end{tcolorbox}
\begin{proof}
    (1) $\Rightarrow$ (2). By Theorem \hyperref[Theorem 1.1.3]{1.1.3}, we have $\mathcal{O}=\bigcup_{n=1}^{\infty}{(a_n,b_n)}$. Since

    \[f^{-1}\big((a_n,b_n)\big)=f^{-1}\big([-\infty,b_n)\big)\setminus f^{-1}\big([-\infty,a_n]\big)\]
    \\
    and $f$ is measurable, thus $f^{-1}\big((a_n,b_n)\big)$ is measurable; therefore, $f^{-1}(\mathcal{O})$ is measurable for every open set $\mathcal{O}$ in $\BR$.

    \vspace{5mm}
    (2) $\Rightarrow$ (3). Let $F$ be a closed set in $\BR$ and let $\mathcal{O}\coloneqq\BR-F$ so that it is open. Then $f^{-1}(\mathcal{O})$ is measurable, and since we have

    \[f^{-1}(F)=\BR^d-f^{-1}(\mathcal{O}),\]
    \\
    thus $f^{-1}(F)$ is also measurable.

    \vspace{5mm}
    (3) $\Rightarrow$ (1). For any $a\in\BR$, since $[a,\infty]$ is closed in $\BR$, $f^{-1}\big([a,\infty]\big)$ is measurable by the assumption. Then, since we have

    \[f^{-1}\big([-\infty,a)\big)=\BR^d-f^{-1}\big([a,\infty]\big),\]
    \\
    it is measurable, that is, $f$ is a measurable function.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Corollary 1.4.2]\label{Corollary 1.4.2}
    If $f$ is a continuous function, then it is measurable.
\end{tcolorbox}
\begin{proof}
    Since $f$ is continuous, for every open set $\mathcal{O}$ in $\BR$, $f^{-1}(\mathcal{O})$ is open in $\BR^d$. Since every open set is measurable, by Theorem \hyperref[Theorem 1.4.1]{1.4.1}, $f$ is measurable.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Corollary 1.4.3]\label{Corollary 1.4.3}
    If $f:\BR^d\rightarrow\BR$ is measurable and $g:\BR\rightarrow\BR$ is continuous, then $g\circ f$ is measurable.
\end{tcolorbox}
\begin{proof}
    Let $\mathcal{O}$ be an open set in $\BR$, then 

    \[(g\circ f)^{-1}(\mathcal{O})=f^{-1}(g^{-1}(\mathcal{O})).\]
    \\
    Since $g$ is continuous, $g^{-1}(\mathcal{O})$ is open in $\BR$; hence, the set $f^{-1}(g^{-1}(\mathcal{O}))$ is measurable by Theorem \hyperref[Theorem 1.4.1]{1.4.1}. This proves that $g\circ f$ is measurable.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.4]\label{Theorem 1.4.4}
    Let $\{f_n\}_{n=1}^{\infty}$ be a sequence of measurable functions, then $\sup{f_n}$, $\inf{f_n}$, $\limsup{f_n}$, and $\liminf{f_n}$ are all measurable.
\end{tcolorbox}
\begin{proof}
    Note that, for any $a\in\BR$, 

    \[\{\sup_n{f_n}>a\}=\bigcup_{n=1}^{\infty}{\{f_n>a\}}\quad\text{and}\quad \{\inf_n{f_n}<a\}=\bigcup_{n=1}^{\infty}{\{f_n<a\}}.\]
    \\
    Since $\{f_n\}_{n=1}^{\infty}$ is a sequence of measurable functions, so $\{f_n>a\}$ and $\{f_n<a\}$ are measurable sets so that both $\{\sup_n{f_n}>a\}$ and $\{\inf_n{f_n}<a\}$ are measurable. 

    Similarly, one can check that 

    \[\limsup_{n\rightarrow\infty}{f_n}=\inf_{k}{\left\{\sup_{n\geq k}{f_n}\right\}}\quad\text{and}\quad \liminf_{n\rightarrow\infty}{f_n}=\sup_{k}{\left\{\inf_{n\geq k}{f_n}\right\}}\]
    \\
    so that they are also measurable, as desired.
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.5]\label{Theorem 1.4.5}
    Let $\{f_n\}_{n=1}^{\infty}$ be a sequence of measurable functions such that 
    
    \[\lim_{n\rightarrow\infty}{f_n(x)}=f(x)\]
    \\
    exists for all $x\in\BR^d$. Then $f$ is a measurable function.
\end{tcolorbox}
\begin{proof}
    Since the limit exists, we have

    \[f(x)=\limsup_{n\rightarrow\infty}{f_n}=\liminf_{n\rightarrow\infty}{f_n};\]
    \\
    therefore, $f$ is a measurable function, by Theorem \hyperref[Theorem 1.4.4]{1.4.4}
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.6]\label{Theorem 1.4.6}
    If $f$ and $g$ are two measurable functions, then $f+g$ and $fg$ are also measurable.
\end{tcolorbox}
\begin{proof}
    Note that 

    \[\{f+g>a\}=\bigcap_{r\in\BQ}{\Big[\{f>a-r\}\cap \{g>r\}\Big]}\]
    \\
    since $\BQ$ is dense in $\BR$. Since $f$ and $g$ is measurable, the right hand side is measurable; therefore, we conclude that $f+g$ is also measurable.

    In order to show that $fg$ is measurable, we first prove that if $h$ is a measurable function, then $h^2$ is also measurable. This is because 

    \[\{h^2<a\}=\{h<\sqrt{a}\}\cap \{h>-\sqrt{a}\}.\]
    \\
    From this fact, one can conclude that $fg$ is measurable since

    \[fg=\frac{1}{4}\big[(f+g)^2-(f-g)^2\big].\]
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.4.4]\label{Definition 1.4.4}
    Let $E$ be a measurable set in $\BR^d$ and let $f,g:E\rightarrow\BR$ be two measurable functions on $E$. We say that $f$ and $g$ are equal \textbf{almost everywhere} if 

    \[m(\{x\in E\mid f(x)\neq g(x)\})=0.\]
    \\
    We simply write $f(x)=g(x)$ a.e. $x\in E$.
\end{tcolorbox}
\vspace{5mm}

Note that the collection of all measurable functions is very large. It contains not only characteristic functions, but also simple and continuous functions. We now introduce several ways to approximate measurable functions by nicer functions, namely simple functions, step functions, and continuous functions.

\vspace{5mm}
The following theorem introduces the approximation by simple functions.

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.7]\label{Theorem 1.4.7}
    If $f$ is a nonnegative measurable function on $\BR^d$, there exists an increasing sequence of nonnegative simple functions $\{\varphi_n\}_{n=1}^{\infty}$ such that each $\supp(\varphi_n)$ is compact,

    \[\varphi_{n}(x)\leq \varphi_{n+1}(x)\quad\text{and}\quad \lim_{n\rightarrow\infty}{\varphi_n(x)}=f(x)\]
    \\
    for all $x\in\BR^d$.
\end{tcolorbox}
\begin{proof}
    
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.8]\label{Theorem 1.4.8}
    Let $f$ be a measurable function on $\BR^d$. Then there exists a sequence of simple functions $\{\varphi_n\}_{n=1}^{\infty}$ such that 

    \[\lim_{n\rightarrow\infty}{\varphi_n(x)}=f(x)\quad\text{for all}\quad x\in\BR^d.\]
\end{tcolorbox}
\begin{proof}
    
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.9 (Egorov's Theorem)]\label{Theorem 1.4.9}
    Let $\{f_k\}_{k=1}^{\infty}$ be a sequence of measurable functions defined on a measurable set $E$ with $m(E)<\infty$. If $f_k\rightarrow f$ a.e., then for any $\epsilon>0$, there exist a closed set $A\subseteq E$ such that $m(E-A)<\epsilon$ and $f_k\rightrightarrows f$ on $A$ (i.e. $f_k$ converges to $f$ uniformly on $A$).
\end{tcolorbox}
\begin{proof}
    
\end{proof}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.4.5]\label{Definition 1.4.5}
    We say that $\boldsymbol{f_k\rightarrow f}$ \textbf{almost everywhere (a.e)} if $f_k\rightarrow f$ pointwise except on a set of measure zero.
\end{tcolorbox}
\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=blue!75!black,title=Definition 1.4.6]\label{Definition 1.4.6}
    A \textbf{step function} is defined as a finite linear combination

    \[f=\sum_{k=1}^{N}{a_k\chi_{I_k}}\]
    \\
    where the sets $\{I_k\}$ are disjoint closed rectangles in $\BR^d$.
\end{tcolorbox}
\vspace{5mm}

As we mentioned before, measurable functions can be approximated by step functions. However, the convergence in this case is slightly weaker than in the case of simple functions.

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.10]\label{Theorem 1.4.10}
    If $f$ is a measurable function on $\BR^d$, then there exists a sequence of step functions $\{\varphi_n\}_{n=1}^{\infty}$ such that $\varphi_n\rightarrow f$ a.e. 
\end{tcolorbox}
\begin{proof}
    
\end{proof}
\vspace{5mm}

The last approximation theorem we introduce is the approximation by continuous functions, and its statement is as follows.

\vspace{5mm}
\begin{tcolorbox}[colback=yellow!10!white,colframe=red!75!black,title=Theorem 1.4.11 (Lusin's Theorem)]\label{Theorem 1.4.11}
    Let $f$ be a measurable and finite valued function on $E$ with $m(E)<\infty$. For any $\epsilon>0$, there exists a closed $F\subseteq E$ such that $m(E-F)<\epsilon$ and $f|_F$ is continuous.
\end{tcolorbox}
\vspace{5mm}

Note that the conclusion of the theorem means that the restriction of $f$ to the set $F$ is continuous. However, it does not imply that the function $f$, defined on $E$, is continuous at the points of $F$. For example, let $f=\chi_{[0,1]}$ on $\BR$ and $F=[0,1]$. Then the restriction $f|_F$ is continuous, but the original function $f$ is not continuous at $1\in F$.

\vspace{5mm}
\begin{proof}
    
\end{proof}
\vspace{5mm}

Recall that we introduced several approximations of measurable functions: by simple, step, and continuous functions. Approximations by simple functions yield pointwise convergence at every point, whereas approximations by step functions yield convergence only almost everywhere. Furthermore, since continuous functions are much nicer, measurable functions can be approximated by continuous functions after discarding a set of small measure.


\newpage



\chapter{Integration Theory}
\section{The Lebesgue Integral: Basic Properties and Convergence Theorems}
\section{The Space $L^1$ of Integrable Functions}
\section{Fubini's theorem}

\newpage

\chapter{Differentiation and Integration}
\section{Differentiation of the Integral}
\section{Good Kernels and Approximations to the Identity}
\section{Differentiability of Functions}
\section{Rectifiable Curves and the Isoperimetric Inequality}

\newpage
\chapter{Hilbert Spaces: An Introduction}
\section{The Hilbert Space $L^2$}
\section{Hilbert Space}
\section{Fourier Series and Fatou's Theorem}
\section{Closed Subpaces and Orthogonal Projections}
\section{Linear Transformations}
\section{Compact Operators}

\newpage
\chapter{Solution for exercises}
\begin{center}
    \vspace*{4cm}
        
    \Huge
    \textbf{MAS441: Lebesgue Intergral Theory\\\vspace{2mm}
    Homework Problems}

    \vspace{1cm}
    \large
    Solutions for the selected exercises (To be updated)
    \vspace{3cm}
    
    \LARGE
    \textbf{Jaeho Shin}
        
    \vspace{5cm}
        
    \normalsize
    \textbf{Department of Mathematical Sciences, KAIST}\\  
\end{center}

\newpage

\addcontentsline{toc}{chapter}{Bibliography}
\begin{thebibliography}{99}

\bibitem{Stein}
Elias M. Stein and Rami Shakarchi,
\textit{Real Analysis: Measure Theory, Integration, and Hilbert Spaces},
Princeton Lectures in Analysis III, Princeton University Press, 2005.

\bibitem{Munkres}
James R. Munkres,  
\textit{Topology},  
2nd ed., Pearson, 2000.

\end{thebibliography}



\end{document}